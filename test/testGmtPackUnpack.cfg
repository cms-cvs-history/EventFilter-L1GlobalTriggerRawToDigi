process GMTTEST = {

  service = MessageLogger {
     untracked vstring destinations = {"cout"}
  }

  source = L1MuGMTHWFileReader {

    untracked int32 maxEvents = -1
    untracked vstring fileNames = {"file:/afs/cern.ch/user/i/imikulec/big/cmsswdev/CMSSW_1_2_0_pre1/src/L1Trigger/GlobalMuonTrigger/test/gmt_testfile.h4mu.dat"}

  }

  include "L1Trigger/GlobalMuonTrigger/data/gmt.cfi"
  replace gmt.Debug = 9
  replace gmt.BX_min = -1
  replace gmt.BX_max = 1
  replace gmt.BX_min_readout = -1
  replace gmt.BX_max_readout = 1

  include "EventFilter/L1GlobalTriggerRawToDigi/data/l1GtPack.cfi"
  include "EventFilter/L1GlobalTriggerRawToDigi/data/l1GtUnpack.cfi"
  
  module dump1 = L1MuGMTDump { untracked InputTag GMTInputTag = gmt }
  module dump2 = L1MuGMTDump { untracked InputTag GMTInputTag = l1GtUnpack }

  path p = { gmt, l1GtPack, l1GtUnpack, dump1, dump2 } 

  module out = PoolOutputModule { untracked string fileName = "gmtPackUnpack.root" }
  endpath outpath = { out }

}
