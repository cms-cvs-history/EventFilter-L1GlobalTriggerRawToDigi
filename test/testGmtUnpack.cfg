process GMTTEST = {

  service = MessageLogger {
    untracked vstring destinations = {"cout"}
    untracked PSet cout = {
          untracked string threshold = "DEBUG"                  // DEBUG mode
          untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages
//          untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages
          untracked PSet INFO = { untracked int32 limit = -1}
    }
    untracked vstring debugModules = { "l1GtUnpack"}          // DEBUG mode

  }


  source = EmptySource {
      untracked int32 maxEvents = 10
  }   

    // load and configure modules
    include "EventFilter/L1GlobalTriggerRawToDigi/data/l1GtTextToRaw.cfi"
    
    // text file type: indicate the producer of the file
    // for standard dumps, the module will clean the file
    //replace l1GtTextToRaw.TextFileType = "VmeSpyDump"
    
    
    //
    replace l1GtTextToRaw.TextFileName = "testGt_DumpSpyToText_output.txt"


    // FED Id (default 813)
    //replace l1GtTextToRaw.FedId = 813
    
    // FED raw data size (in 8bits units, including header and trailer)
    // If negative value, the size is retrieved from the trailer.        
    //replace l1GtTextToRaw.RawDataSize = 872
     

  include "EventFilter/L1GlobalTriggerRawToDigi/data/l1GtUnpack.cfi"
  replace l1GtUnpack.DaqGtInputTag = l1GtTextToRaw
  replace l1GtUnpack.ActiveBoardsMask = 0x0101
  
  module dump = L1MuGMTDump { untracked InputTag GMTInputTag = l1GtUnpack }

  path p = { l1GtTextToRaw, l1GtUnpack, dump } 

//  module out = PoolOutputModule { untracked string fileName = "gmtPackUnpack.root" }
//  endpath outpath = { out }

}
